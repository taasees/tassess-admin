{"version":3,"file":"murmurhash.js","names":["murmurhash","str","seed","m","r","h","length","currentIndex","k","UInt32","Umul32","UInt16","charCodeAt","pos","n","nlo","nhi","res"],"sources":["../../src/core-utils/murmurhash.ts"],"sourcesContent":["// murmurhash2 via https://gist.github.com/raycmorgan/588423\n\nexport const murmurhash = (str: string, seed: number): number => {\n  const m = 0x5bd1e995\n  const r = 24\n  let h: number = seed ^ str.length\n  let length: number = str.length\n  let currentIndex = 0\n\n  while (length >= 4) {\n    let k: number = UInt32(str, currentIndex)\n\n    k = Umul32(k, m)\n    k ^= k >>> r\n    k = Umul32(k, m)\n\n    h = Umul32(h, m)\n    h ^= k\n\n    currentIndex += 4\n    length -= 4\n  }\n\n  switch (length) {\n    case 3:\n      h ^= UInt16(str, currentIndex)\n      h ^= str.charCodeAt(currentIndex + 2) << 16\n      h = Umul32(h, m)\n      break\n\n    case 2:\n      h ^= UInt16(str, currentIndex)\n      h = Umul32(h, m)\n      break\n\n    case 1:\n      h ^= str.charCodeAt(currentIndex)\n      h = Umul32(h, m)\n      break\n  }\n\n  h ^= h >>> 13\n  h = Umul32(h, m)\n  h ^= h >>> 15\n\n  return h >>> 0\n}\n\nfunction UInt32(str: string, pos: number): number {\n  return (\n    str.charCodeAt(pos++) +\n    (str.charCodeAt(pos++) << 8) +\n    (str.charCodeAt(pos++) << 16) +\n    (str.charCodeAt(pos) << 24)\n  )\n}\n\nfunction UInt16(str: string, pos: number): number {\n  return str.charCodeAt(pos++) + (str.charCodeAt(pos++) << 8)\n}\n\nfunction Umul32(n: number, m: number): number {\n  n = n | 0\n  m = m | 0\n  const nlo = n & 0xffff\n  const nhi = n >>> 16\n  const res = (nlo * m + (((nhi * m) & 0xffff) << 16)) | 0\n  return res\n}\n"],"mappings":";;;;AAAA;;AAEO,MAAMA,UAAU,GAAG,CAACC,GAAW,EAAEC,IAAY,KAAa;EAC/D,MAAMC,CAAC,GAAG,UAAU;EACpB,MAAMC,CAAC,GAAG,EAAE;EACZ,IAAIC,CAAS,GAAGH,IAAI,GAAGD,GAAG,CAACK,MAAM;EACjC,IAAIA,MAAc,GAAGL,GAAG,CAACK,MAAM;EAC/B,IAAIC,YAAY,GAAG,CAAC;EAEpB,OAAOD,MAAM,IAAI,CAAC,EAAE;IAClB,IAAIE,CAAS,GAAGC,MAAM,CAACR,GAAG,EAAEM,YAAY,CAAC;IAEzCC,CAAC,GAAGE,MAAM,CAACF,CAAC,EAAEL,CAAC,CAAC;IAChBK,CAAC,IAAIA,CAAC,KAAKJ,CAAC;IACZI,CAAC,GAAGE,MAAM,CAACF,CAAC,EAAEL,CAAC,CAAC;IAEhBE,CAAC,GAAGK,MAAM,CAACL,CAAC,EAAEF,CAAC,CAAC;IAChBE,CAAC,IAAIG,CAAC;IAEND,YAAY,IAAI,CAAC;IACjBD,MAAM,IAAI,CAAC;EACb;EAEA,QAAQA,MAAM;IACZ,KAAK,CAAC;MACJD,CAAC,IAAIM,MAAM,CAACV,GAAG,EAAEM,YAAY,CAAC;MAC9BF,CAAC,IAAIJ,GAAG,CAACW,UAAU,CAACL,YAAY,GAAG,CAAC,CAAC,IAAI,EAAE;MAC3CF,CAAC,GAAGK,MAAM,CAACL,CAAC,EAAEF,CAAC,CAAC;MAChB;IAEF,KAAK,CAAC;MACJE,CAAC,IAAIM,MAAM,CAACV,GAAG,EAAEM,YAAY,CAAC;MAC9BF,CAAC,GAAGK,MAAM,CAACL,CAAC,EAAEF,CAAC,CAAC;MAChB;IAEF,KAAK,CAAC;MACJE,CAAC,IAAIJ,GAAG,CAACW,UAAU,CAACL,YAAY,CAAC;MACjCF,CAAC,GAAGK,MAAM,CAACL,CAAC,EAAEF,CAAC,CAAC;MAChB;EAAK;EAGTE,CAAC,IAAIA,CAAC,KAAK,EAAE;EACbA,CAAC,GAAGK,MAAM,CAACL,CAAC,EAAEF,CAAC,CAAC;EAChBE,CAAC,IAAIA,CAAC,KAAK,EAAE;EAEb,OAAOA,CAAC,KAAK,CAAC;AAChB,CAAC;AAAA;AAED,SAASI,MAAM,CAACR,GAAW,EAAEY,GAAW,EAAU;EAChD,OACEZ,GAAG,CAACW,UAAU,CAACC,GAAG,EAAE,CAAC,IACpBZ,GAAG,CAACW,UAAU,CAACC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,IAC3BZ,GAAG,CAACW,UAAU,CAACC,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC,IAC5BZ,GAAG,CAACW,UAAU,CAACC,GAAG,CAAC,IAAI,EAAE,CAAC;AAE/B;AAEA,SAASF,MAAM,CAACV,GAAW,EAAEY,GAAW,EAAU;EAChD,OAAOZ,GAAG,CAACW,UAAU,CAACC,GAAG,EAAE,CAAC,IAAIZ,GAAG,CAACW,UAAU,CAACC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;AAC7D;AAEA,SAASH,MAAM,CAACI,CAAS,EAAEX,CAAS,EAAU;EAC5CW,CAAC,GAAGA,CAAC,GAAG,CAAC;EACTX,CAAC,GAAGA,CAAC,GAAG,CAAC;EACT,MAAMY,GAAG,GAAGD,CAAC,GAAG,MAAM;EACtB,MAAME,GAAG,GAAGF,CAAC,KAAK,EAAE;EACpB,MAAMG,GAAG,GAAIF,GAAG,GAAGZ,CAAC,IAAI,CAAEa,GAAG,GAAGb,CAAC,GAAI,MAAM,KAAK,EAAE,CAAC,GAAI,CAAC;EACxD,OAAOc,GAAG;AACZ"}