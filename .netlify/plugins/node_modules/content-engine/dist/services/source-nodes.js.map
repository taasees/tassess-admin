{"version":3,"file":"source-nodes.js","names":["sourceNodes","parentSpan","webhookBody","webhookSourcePluginName","store","deferNodeMutation","assertStore","activity","reporter","activityTimer","start","sourceNodesAndRemoveStaleNodes","span","pluginName","end"],"sources":["../../src/services/source-nodes.ts"],"sourcesContent":["import sourceNodesAndRemoveStaleNodes from \"../utils/source-nodes\"\nimport reporter from \"../reporter\"\nimport { assertStore } from \"../utils/assert-store\"\nimport { IDataLayerContext } from \"./types\"\n\nexport async function sourceNodes({\n  parentSpan,\n  webhookBody,\n  webhookSourcePluginName,\n  store,\n  deferNodeMutation = false,\n}: Partial<IDataLayerContext>): Promise<void> {\n  assertStore(store)\n\n  const activity = reporter.activityTimer(`Fetching API Data`, {\n    parentSpan,\n  })\n  activity.start()\n  await sourceNodesAndRemoveStaleNodes({\n    parentSpan: activity.span,\n    deferNodeMutation,\n    webhookBody,\n    pluginName: webhookSourcePluginName,\n  })\n  activity.end()\n}\n"],"mappings":";;;;;AAAA;AACA;AACA;AAGO,eAAeA,WAAW,CAAC;EAChCC,UAAU;EACVC,WAAW;EACXC,uBAAuB;EACvBC,KAAK;EACLC,iBAAiB,GAAG;AACM,CAAC,EAAiB;EAC5C,IAAAC,wBAAW,EAACF,KAAK,CAAC;EAElB,MAAMG,QAAQ,GAAGC,iBAAQ,CAACC,aAAa,CAAE,mBAAkB,EAAE;IAC3DR;EACF,CAAC,CAAC;EACFM,QAAQ,CAACG,KAAK,EAAE;EAChB,MAAM,IAAAC,oBAA8B,EAAC;IACnCV,UAAU,EAAEM,QAAQ,CAACK,IAAI;IACzBP,iBAAiB;IACjBH,WAAW;IACXW,UAAU,EAAEV;EACd,CAAC,CAAC;EACFI,QAAQ,CAACO,GAAG,EAAE;AAChB"}