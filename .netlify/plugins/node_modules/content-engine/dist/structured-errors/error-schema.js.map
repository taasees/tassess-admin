{"version":3,"file":"error-schema.js","names":["Position","Joi","object","keys","line","number","column","unknown","errorSchema","code","string","text","stack","array","items","fileName","functionName","allow","lineNumber","columnNumber","category","valid","Object","values","ErrorCategory","level","Level","type","Type","filePath","location","start","required","end","docsUrl","uri","allowRelative","relativeOnly","error","context","group","panicOnBuild","boolean","pluginName"],"sources":["../../src/structured-errors/error-schema.ts"],"sourcesContent":["import Joi from \"joi\"\nimport {\n  ILocationPosition,\n  IStructuredError,\n  Type,\n  ErrorCategory,\n  Level,\n} from \"./types\"\n\nexport const Position: Joi.ObjectSchema<ILocationPosition> = Joi.object()\n  .keys({\n    line: Joi.number(),\n    column: Joi.number(),\n  })\n  .unknown()\n\nexport const errorSchema: Joi.ObjectSchema<IStructuredError> =\n  Joi.object().keys({\n    code: Joi.string(),\n    text: Joi.string(),\n    stack: Joi.array()\n      .items(\n        Joi.object().keys({\n          fileName: Joi.string(),\n          functionName: Joi.string().allow(null),\n          lineNumber: Joi.number().allow(null),\n          columnNumber: Joi.number().allow(null),\n        })\n      )\n      .allow(null),\n    category: Joi.string().valid(...Object.values(ErrorCategory)),\n    level: Joi.string().valid(...Object.values(Level)),\n    type: Joi.string().valid(...Object.values(Type)),\n    filePath: Joi.string(),\n    location: Joi.object({\n      start: Position.required(),\n      end: Position,\n    }).unknown(),\n    docsUrl: Joi.string().uri({\n      allowRelative: false,\n      relativeOnly: false,\n    }),\n    error: Joi.object({}).unknown(),\n    context: Joi.object({}).unknown(),\n    group: Joi.string(),\n    panicOnBuild: Joi.boolean(),\n    pluginName: Joi.string(),\n  })\n"],"mappings":";;;;;AAAA;AACA;AAQO,MAAMA,QAA6C,GAAGC,YAAG,CAACC,MAAM,EAAE,CACtEC,IAAI,CAAC;EACJC,IAAI,EAAEH,YAAG,CAACI,MAAM,EAAE;EAClBC,MAAM,EAAEL,YAAG,CAACI,MAAM;AACpB,CAAC,CAAC,CACDE,OAAO,EAAE;AAAA;AAEL,MAAMC,WAA+C,GAC1DP,YAAG,CAACC,MAAM,EAAE,CAACC,IAAI,CAAC;EAChBM,IAAI,EAAER,YAAG,CAACS,MAAM,EAAE;EAClBC,IAAI,EAAEV,YAAG,CAACS,MAAM,EAAE;EAClBE,KAAK,EAAEX,YAAG,CAACY,KAAK,EAAE,CACfC,KAAK,CACJb,YAAG,CAACC,MAAM,EAAE,CAACC,IAAI,CAAC;IAChBY,QAAQ,EAAEd,YAAG,CAACS,MAAM,EAAE;IACtBM,YAAY,EAAEf,YAAG,CAACS,MAAM,EAAE,CAACO,KAAK,CAAC,IAAI,CAAC;IACtCC,UAAU,EAAEjB,YAAG,CAACI,MAAM,EAAE,CAACY,KAAK,CAAC,IAAI,CAAC;IACpCE,YAAY,EAAElB,YAAG,CAACI,MAAM,EAAE,CAACY,KAAK,CAAC,IAAI;EACvC,CAAC,CAAC,CACH,CACAA,KAAK,CAAC,IAAI,CAAC;EACdG,QAAQ,EAAEnB,YAAG,CAACS,MAAM,EAAE,CAACW,KAAK,CAAC,GAAGC,MAAM,CAACC,MAAM,CAACC,oBAAa,CAAC,CAAC;EAC7DC,KAAK,EAAExB,YAAG,CAACS,MAAM,EAAE,CAACW,KAAK,CAAC,GAAGC,MAAM,CAACC,MAAM,CAACG,YAAK,CAAC,CAAC;EAClDC,IAAI,EAAE1B,YAAG,CAACS,MAAM,EAAE,CAACW,KAAK,CAAC,GAAGC,MAAM,CAACC,MAAM,CAACK,WAAI,CAAC,CAAC;EAChDC,QAAQ,EAAE5B,YAAG,CAACS,MAAM,EAAE;EACtBoB,QAAQ,EAAE7B,YAAG,CAACC,MAAM,CAAC;IACnB6B,KAAK,EAAE/B,QAAQ,CAACgC,QAAQ,EAAE;IAC1BC,GAAG,EAAEjC;EACP,CAAC,CAAC,CAACO,OAAO,EAAE;EACZ2B,OAAO,EAAEjC,YAAG,CAACS,MAAM,EAAE,CAACyB,GAAG,CAAC;IACxBC,aAAa,EAAE,KAAK;IACpBC,YAAY,EAAE;EAChB,CAAC,CAAC;EACFC,KAAK,EAAErC,YAAG,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACK,OAAO,EAAE;EAC/BgC,OAAO,EAAEtC,YAAG,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACK,OAAO,EAAE;EACjCiC,KAAK,EAAEvC,YAAG,CAACS,MAAM,EAAE;EACnB+B,YAAY,EAAExC,YAAG,CAACyC,OAAO,EAAE;EAC3BC,UAAU,EAAE1C,YAAG,CAACS,MAAM;AACxB,CAAC,CAAC;AAAA"}