{"version":3,"file":"cache.js","names":["getCache","global","_polyfillRemoteFileCache","getContentEngineCache","importFrom","__GATSBY","root","process","cwd","cache"],"sources":["../../../../src/plugin-utils/polyfill-remote-file/utils/cache.ts"],"sourcesContent":["import importFrom from \"import-from\"\nimport type { GatsbyCache } from \"../../../types\"\n\nexport function getCache(): GatsbyCache {\n  if (global._polyfillRemoteFileCache) {\n    return global._polyfillRemoteFileCache\n  }\n  // We need to use import-from to remove circular dependency\n  const { getCache: getContentEngineCache } = importFrom(\n    global.__GATSBY?.root ?? process.cwd(),\n    `content-engine/dist/utils/get-cache`\n  ) as { getCache: (key: string) => GatsbyCache }\n\n  const cache = getContentEngineCache(`content-engine`)\n  global._polyfillRemoteFileCache = cache\n  return cache\n}\n"],"mappings":";;;;;AAAA;AAGO,SAASA,QAAQ,GAAgB;EAAA;EACtC,IAAIC,MAAM,CAACC,wBAAwB,EAAE;IACnC,OAAOD,MAAM,CAACC,wBAAwB;EACxC;EACA;EACA,MAAM;IAAEF,QAAQ,EAAEG;EAAsB,CAAC,GAAG,IAAAC,mBAAU,+CACpDH,MAAM,CAACI,QAAQ,qDAAf,iBAAiBC,IAAI,yEAAIC,OAAO,CAACC,GAAG,EAAE,EACrC,qCAAoC,CACQ;EAE/C,MAAMC,KAAK,GAAGN,qBAAqB,CAAE,gBAAe,CAAC;EACrDF,MAAM,CAACC,wBAAwB,GAAGO,KAAK;EACvC,OAAOA,KAAK;AACd"}