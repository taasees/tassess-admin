{"version":3,"file":"get-value-at.js","names":["getValueAt","obj","selector","options","keepNonMatches","selectors","split","get","undefined","Array","isArray","getArray","key","rest","value","length","arr","map","filter","v"],"sources":["../../src/utils/get-value-at.ts"],"sourcesContent":["interface Options {\n  keepNonMatches?: boolean\n}\n\nexport function getValueAt(\n  obj: Record<string, unknown>,\n  selector: string | Array<string>,\n  options: Options = {\n    keepNonMatches: false,\n  }\n): any {\n  const selectors =\n    typeof selector === `string` ? selector.split(`.`) : selector\n  return get(obj, selectors, options)\n}\n\nfunction get(obj: unknown, selectors: Array<string>, options: Options): any {\n  if (typeof obj !== `object` || obj === null) return undefined\n  if (Array.isArray(obj)) return getArray(obj, selectors, options)\n  const [key, ...rest] = selectors\n  const value = obj[key]\n  if (!value && options?.keepNonMatches) {\n    return obj\n  }\n  if (!rest.length) return value\n  if (Array.isArray(value)) return getArray(value, rest, options)\n  if (value && typeof value === `object`) return get(value, rest, options)\n  return undefined\n}\n\nfunction getArray(\n  arr: Array<unknown>,\n  selectors: Array<string>,\n  options: Options\n): Array<any> {\n  return arr\n    .map(value =>\n      Array.isArray(value)\n        ? getArray(value, selectors, options)\n        : get(value, selectors, options)\n    )\n    .filter(v => v !== undefined)\n}\n"],"mappings":";;;;AAIO,SAASA,UAAU,CACxBC,GAA4B,EAC5BC,QAAgC,EAChCC,OAAgB,GAAG;EACjBC,cAAc,EAAE;AAClB,CAAC,EACI;EACL,MAAMC,SAAS,GACb,OAAOH,QAAQ,KAAM,QAAO,GAAGA,QAAQ,CAACI,KAAK,CAAE,GAAE,CAAC,GAAGJ,QAAQ;EAC/D,OAAOK,GAAG,CAACN,GAAG,EAAEI,SAAS,EAAEF,OAAO,CAAC;AACrC;AAEA,SAASI,GAAG,CAACN,GAAY,EAAEI,SAAwB,EAAEF,OAAgB,EAAO;EAC1E,IAAI,OAAOF,GAAG,KAAM,QAAO,IAAIA,GAAG,KAAK,IAAI,EAAE,OAAOO,SAAS;EAC7D,IAAIC,KAAK,CAACC,OAAO,CAACT,GAAG,CAAC,EAAE,OAAOU,QAAQ,CAACV,GAAG,EAAEI,SAAS,EAAEF,OAAO,CAAC;EAChE,MAAM,CAACS,GAAG,EAAE,GAAGC,IAAI,CAAC,GAAGR,SAAS;EAChC,MAAMS,KAAK,GAAGb,GAAG,CAACW,GAAG,CAAC;EACtB,IAAI,CAACE,KAAK,IAAIX,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEC,cAAc,EAAE;IACrC,OAAOH,GAAG;EACZ;EACA,IAAI,CAACY,IAAI,CAACE,MAAM,EAAE,OAAOD,KAAK;EAC9B,IAAIL,KAAK,CAACC,OAAO,CAACI,KAAK,CAAC,EAAE,OAAOH,QAAQ,CAACG,KAAK,EAAED,IAAI,EAAEV,OAAO,CAAC;EAC/D,IAAIW,KAAK,IAAI,OAAOA,KAAK,KAAM,QAAO,EAAE,OAAOP,GAAG,CAACO,KAAK,EAAED,IAAI,EAAEV,OAAO,CAAC;EACxE,OAAOK,SAAS;AAClB;AAEA,SAASG,QAAQ,CACfK,GAAmB,EACnBX,SAAwB,EACxBF,OAAgB,EACJ;EACZ,OAAOa,GAAG,CACPC,GAAG,CAACH,KAAK,IACRL,KAAK,CAACC,OAAO,CAACI,KAAK,CAAC,GAChBH,QAAQ,CAACG,KAAK,EAAET,SAAS,EAAEF,OAAO,CAAC,GACnCI,GAAG,CAACO,KAAK,EAAET,SAAS,EAAEF,OAAO,CAAC,CACnC,CACAe,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKX,SAAS,CAAC;AACjC"}